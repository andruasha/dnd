<!DOCTYPE html>
<html>
<head>
    <title>D&D</title>

    <style>
      table {
        border-collapse: collapse;
        width: 100%;
      }

      th, td {
        border: 1px solid black;
        padding: 8px;
        text-align: left;
      }

      th {
        background-color: #f2f2f2;
      }
    </style>

</head>
<body>
    <h1>Spells Find</h1>

    <form method="post" action="{% url 'home:spells_find' %}">
        {% csrf_token %}

        <label for="Spell_ID">Spell ID:</label>
        <input type="text" id="Spell_ID" name="Spell_ID">
        <br>

        <label for="Spell_Author">Author:</label>
        <select id="Spell_Author" name="Spell_Author">
            <option value="" selected>---</option>
            {% for author in authors %}
                <option value="{{ author.pk }}">{{ author.username }}</option>
            {% endfor %}
        </select>
        <br>

        <label for="Spell_Level">Level:</label>
        <input type="text" id="Spell_Level" name="Spell_Level">
        <br>

        <label for="School">School:</label>
        <select id="School" name="School">
            <option value="" selected>---</option>
            {% for school in schools %}
                <option value="{{ school.pk }}">{{ school.pk }}</option>
            {% endfor %}
        </select>
        <br>

        <label for="Archetypes">Archetypes:</label>
        <select id="Archetypes" name="Archetypes">
            <option value="" selected>---</option>
            {% for archetype in archetypes %}
                <option value="{{ archetype.pk }}">{{ archetype.pk }}</option>
            {% endfor %}
        </select>
        <br>

        <input type="submit" value="Find">
    </form>

    {% if results %}
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Level</th>
                    <th>School</th>
                    <th>Author</th>
                    <th>Archetype</th>
                </tr>
            </thead>
            <tbody>
                {% for result in results %}
                    <tr>
                        <td><a href="{% url 'home:spell_detail' result.Spell_ID %}">{{ result.Spell_ID }}</a></td>
                        <td>{{ result.Spell_Level }}</td>
                        <td>{{ result.School_id }}</td>
                        <td>{{ result.Spell_Author_id }}</td>
                        <td>{{ result.Archetypes_id }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>No results found.</p>
    {% endif %}

</body>
</html>
